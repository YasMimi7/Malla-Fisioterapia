// script.js

const materias = document.querySelectorAll('.materia'); const contador = document.getElementById('contador');

// Diccionario de prerrequisitos (ID de materia => array de IDs que la habilitan) const prerrequisitos = { 'Anatomía Funcional II': ['Anatomía Funcional I'], 'Kinesiología': ['Biomecánica'], 'Kinefilaxia': ['Fisioterapia Preventiva'], 'Fisioterapia General': ['Soporte Básico de Vida'], 'Fisioterapia Comunitaria': ['Psicología Aplicada'], 'Quechua': ['Antropología'],

'Semiología Kinesica': ['Anatomía Funcional II'], 'Kinesioterapia General': ['Kinesiología'], 'Recursos Biomecánicos': ['Kinefilaxia'], 'Neurofisiología Kinesica': ['Fisicología'], 'Fisioterapia Aplicada': ['Fisioterapia General'], 'Metodología de la Investigación': ['Fisioterapia Comunitaria'],

'Neurokinesiología': ['Semiología Kinesica'], 'Fisioterapia del Adulto Mayor': ['Kinesioterapia General'], 'Terapia Ocupacional': ['Recursos Biomecánicos'], 'Electroterapia I': ['Neurofisiología Kinesica'], 'Apoyo Nutricional': ['Fisioterapia Aplicada'], 'Deontología': ['Metodología de la Investigación'],

'Fundamentos Generales de la Evaluación Kinesica': ['Neurokinesiología'], 'Terapias Alternativas': ['Fisioterapia del Adulto Mayor'], 'Patología Aplicada a la Fisioterapia': ['Terapia Ocupacional'], 'Farmacología Aplicada a la Fisioterapia': ['Electroterapia I'], 'Bioinformática': ['Deontología'],

'Estancias Clínicas I – Traumatología': ['Fundamentos Generales de la Evaluación Kinesica'], 'Estancias Clínicas I – Ginecología y Obstetricia': ['Terapias Alternativas'], 'Estancias Clínicas I – Comunidad': ['Patología Aplicada a la Fisioterapia'], 'Estancias Clínicas I – Neurología': ['Farmacología Aplicada a la Fisioterapia'], 'Modalidades de Graduación I': ['Bioinformática'],

'Manejo Kinesico Físico – Traumatología': ['Estancias Clínicas I – Traumatología'], 'Manejo Kinesico Físico – Ginecología y Obstetricia': ['Estancias Clínicas I – Ginecología y Obstetricia'], 'Rehabilitación Basada en la Comunidad': ['Estancias Clínicas I – Comunidad'], 'Manejo Kinesico Físico – Neurología': ['Estancias Clínicas I – Neurología'], 'Manejo Kinesico Físico – Dermatofunción': ['Modalidades de Graduación I'], 'Manejo Kinesico Físico – Cardiorespiratorio': ['Modalidades de Graduación I'], 'Electroterapia II': ['Modalidades de Graduación I'],

'Imagenología Aplicada a la Fisioterapia': ['Manejo Kinesico Físico – Traumatología'], 'Evaluación Kinesica Funcional': ['Manejo Kinesico Físico – Ginecología y Obstetricia'], 'Fisioterapia Laboral y Ergonomía': ['Rehabilitación Basada en la Comunidad'], 'Bases Generales de la Psicomotricidad': ['Manejo Kinesico Físico – Neurología'], 'Estancias Clínicas II – Estética': ['Manejo Kinesico Físico – Dermatofunción'], 'Fisioterapia Deportiva': ['Manejo Kinesico Físico – Cardiorespiratorio'], 'Bases Generales de la Terapia Manual': ['Electroterapia II'],

'Estancias Clínicas II – Adulto Mayor': ['Imagenología Aplicada a la Fisioterapia'], 'Estancias Clínicas II – Quemados': ['Evaluación Kinesica Funcional'], 'Gestión en Salud': ['Fisioterapia Laboral y Ergonomía'], 'Estancias Clínicas II – Pediatría': ['Bases Generales de la Psicomotricidad'],

'Modalidades de Graduación III': [ 'Estancias Clínicas II – Adulto Mayor', 'Estancias Clínicas II – Quemados', 'Gestión en Salud', 'Estancias Clínicas II – Pediatría', 'Estancias Clínicas II – Estética' ] };

// Recuperar progreso guardado let aprobadas = JSON.parse(localStorage.getItem('aprobadas')) || [];

function actualizarVista() { let total = 0;

materias.forEach(el => { const nombre = el.textContent.trim(); el.classList.remove('aprobada', 'habilitada', 'bloqueada');

if (aprobadas.includes(nombre)) {
  el.classList.add('aprobada');
  total++;
} else if (
  !prerrequisitos[nombre] ||
  prerrequisitos[nombre].every(m => aprobadas.includes(m))
) {
  el.classList.add('habilitada');
} else {
  el.classList.add('bloqueada');
}

});

contador.textContent = Materias aprobadas: ${total}; }

function toggle(el) { const nombre = el.textContent.trim(); if (!el.classList.contains('habilitada') && !el.classList.contains('aprobada')) return;

if (aprobadas.includes(nombre)) { aprobadas = aprobadas.filter(m => m !== nombre); } else { aprobadas.push(nombre); }

actualizarVista(); localStorage.setItem('aprobadas', JSON.stringify(aprobadas)); }

function guardarMalla() { localStorage.setItem('aprobadas', JSON.stringify(aprobadas)); alert('✅ Avance guardado correctamente.'); }

function resetMalla() { if (confirm('¿Seguro que deseas reiniciar toda la malla?')) { aprobadas = []; localStorage.removeItem('aprobadas'); actualizarVista(); } }

actualizarVista();

